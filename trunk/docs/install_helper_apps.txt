installing, testing local blast environment
===========================================
1) Get the NCBI toolkit by anonymous ftp from ftp.ncbi.nih.gov
   and install it.
   (ftp://ftp.ncbi.nlm.nih.gov/toolbox/ncbi_tools/CURRENT/)

2) Install data bases (option 2b recommended) 
a) FASTA formated databases:
   - Download the databases via anonymous ftp (in binary mode) from 
     ftp://ftp.ncbi.nlm.nih.gov/blast/db/FASTA 
     The minimum requirement is swissprot and pdbaa.
   - uncompress the databases 
   - Format the databases with -o option (formatdb -o ...)
     Example: formatdb -i database -p T -o T

b) Preformated databases (needs less space and are preformated)
   - Download the databases via anonymous ftp (in binary mode) from 
     ftp://ftp.ncbi.nlm.nih.gov/blast/db OR download the script 
     update_blastdb.pl and use it to download/update your databases.
     (http://www.ncbi.nlm.nih.gov/blast/docs/update_blastdb.pl)
   - The minimum requirement is nr (parent of the other databases), 
     swissprot and pdbaa needed.   

3) create ~/.ncbirc:
[NCBI]
DATA=/Bis/shared/rh73/ncbi/data

[NET_SERV]
SRV_CONN_MODE=FIREWALL
SRV_HTTP_PROXY_HOST=cache.pasteur.fr
SRV_HTTP_PROXY_PORT=8080

4) provide environment varibles:
export BLASTDB=/Bis/db/blastdb
## export BLASTMA=/home/Bis/raik/bin/blast ## not needed with .ncbirc

5) $BLASTDB must contain links to all data base and index files
 ( nr.*, pdbaa.*, (swiss.*))

6) test blast environment:
       cd ~/biskit/test/Mod
       
       # retrieve sequence
       fastacmd -d pdbaa -s 3TGI >! test.fasta

       # search against PDB
       blastall -p blastp -d pdbaa < test.fasta

       # search against all
       blastall -p blastp -d nr < test.fasta > nr.out

       # cluster sequences
       blastclust -i test_blastclust.fasta
       -> should yield:
       [blastclust] WARNING: Could not find taxdb.bti
       Apr 19, 2004  1:30 PM Start clustering of 12 queries
       a b c d e g h i j l
       f
       k
       m


Install Pfam database for HMMER:
================================
1) Download database by anonymous ftp and unpack
ftp ftp.sanger.ac.uk
     cd pub/databases/Pfam/current_release
     get Pfam_ls.gz
     bye
gzip -d Pfam_ls.gz

2) Add the path to the database to ~/.biskit/settings.dat
Assign the path of the Pfam database to the 'hmm_db' variable. 
example: hmm_db = /shared/db/Pfam_ls


Install local PDB database:
===========================
If you plan on heavily use the homology modelling modules you might 
want to consider installing a local copy of the PDB database. If you
don't have a local copy the pdb files will be automatically downloaded
but this can be quite time consuming.

(A) To mirror the full pdb ftp (approx. 20 GB):
- download a mirroring script at http://www.rcsb.org/pdb/software-list.html
You'll find them under the headline "FTP Archive Resources". We are using 
rsyncPDB.sh.
- use the documentation provided with the script to install a local database.
- in ~/.biskit/settings.dat set the variable "pdb_path" to the directory
ftp_download/data/structures/divided/pdb

(B) To mirror only the pdb flat files needed by Biskit (approx. 5 GB): 
- same as above but in step 2 edit the script like this:
${RSYNC} -rlpt -v -z --delete --port=$PORT 
         $SERVER::ftp_data/structures/divided/pdb/ 
	 $MIRRORDIR > $LOGFILE 2>/dev/null

(C) Assign the path of the pdb database to the 'pdb_path' variable. 
The path shoud point to the folder within which the pdb files in 
regular pdb-format are found. If you are using a divided database
(see B) the path should point towards the folder with containing 
the divided folders.
example: pdb_path = /shared/db/divided/pdb



T-Cofee, ClustalW and SAP:
==========================
Download and install CLUSTALW
ftp://ftp.ebi.ac.uk/pub/software/unix/clustalw/
setenv CLUSTALW_4_TCOFFEE /path/to/clustalw

Download and install SAP
http://igs-server.cnrs-mrs.fr/~cnotred/Projects_home_page/3dcoffee_home_page.html
setenv SAP_4_TCOFFEE /path/to/sap

Download and install TCOFFEE
http://igs-server.cnrs-mrs.fr/~cnotred/Projects_home_page/t_coffee_home_page.html
(or http://igs-server.cnrs-mrs.fr/~cnotred/Packages)

Set the t_coffee_bin variable in ~/.biskit/settings.dat:
t_coffee_bin = /shared_bin/T-Coffee/t_coffee

Optional settings:
- force T-Coffee not to validate filenames of structures against the RCSB.
  The validation is quite time consuming, therefore this setting is recommended.
  setenv NO_REMOTE_PDB_DIR 1
- If you have a local database installed installed this can be used for the
  validation.  
  setenv PDB_DIR /path/to/your/pdb/database


